## Para saber mais: status code das respostas

Os **status codes** no HTTP são **elementos fundamentais na comunicação entre clientes e servidores**. Eles indicam se uma requisição foi **bem-sucedida, se houve algum erro, ou se é necessária uma ação adicional**.

Cada código de status é composto por **três dígitos** e pertence a uma das **cinco classes de resposta**, cada uma representando um tipo específico de resposta, que são:

1. **1xx – Informacional**: indica que a requisição foi recebida e está sendo processada, mas ainda não há uma resposta final. Exemplos:
  - **100 continue**: o servidor recebeu a primeira parte da solicitação e o cliente pode continuar com o envio.
  - **102 processing**: o servidor está processando a requisição, mas ainda não completou.
  
2. **2xx – Sucesso**: a solicitação foi recebida, compreendida e processada com sucesso. Exemplos:
  - **200 OK**: a requisição foi bem-sucedida e o resultado é devolvido no corpo da resposta.
  - **201 created**: a requisição foi bem-sucedida e um novo recurso foi criado.
  - **204 no content**: a requisição foi bem-sucedida, mas não há conteúdo para retornar.

3. **3xx – Redirecionamento**: mais ações são necessárias por parte do cliente para completar a solicitação. Exemplos:
  - **301 moved permanently**: o recurso solicitado foi movido para uma nova URI permanentemente.
  - **304 not modified**: o recurso não foi modificado desde a última requisição, e o cliente pode usar a versão em cache.

4. **4xx – Erro do cliente**: indica que o cliente fez algo de errado, como uma solicitação inválida ou falta de autorização. Exemplos:
  - **400 Bad Request**: o servidor não pôde processar a solicitação devido a um erro do cliente, como uma sintaxe incorreta.
  - **401 Unauthorized**: a requisição requer autenticação. O cliente deve autenticar-se para obter a resposta solicitada.
  - **404 Not Found**: o servidor não encontrou o recurso solicitado.
   
5. **5xx – Erro do servidor**: indica que o servidor falhou ao processar uma requisição válida. Exemplos:
  - **500 Internal server error**: ocorreu um erro genérico no servidor sem uma mensagem específica de erro.
  - **502 Bad Gateway**: o servidor, atuando como gateway ou proxy, recebeu uma resposta inválida do servidor upstream.

Ao trabalhar com o pacote http no Dart, é uma prática muito boa implementar verificações para os status codes em suas respostas, garantindo que seu aplicativo possa lidar corretamente com diferentes cenários:

```dart
import 'package:http/http.dart' as http;

Future<void> fetchData() async {
  var response = await http.get(Uri.parse('<https://api.exemplo.com/dados>'));

  switch (response.statusCode) {
    case 200:
      // A requisição foi bem-sucedida, processa os dados
      print('Dados recebidos: ${response.body}');
      break;
    case 201:
      // Recurso criado com sucesso
      print('Recurso criado com sucesso.');
      break;
    case 204:
      // Nenhum conteúdo retornado
      print('Operação concluída, mas sem dados para exibir.');
      break;
    case 400:
      // Requisição inválida
      print('Erro na requisição: ${response.reasonPhrase}');
      break;
    case 401:
      // Não autorizado
      print('Acesso não autorizado. Verifique suas credenciais.');
      break;
    case 404:
      // Recurso não encontrado
      print('Recurso não encontrado.');
      break;
    case 500:
      // Erro interno no servidor
      print('Erro no servidor. Tente novamente mais tarde.');
      break;
    default:
      // Outros códigos de erro
      print('Erro desconhecido: ${response.statusCode}');
  }
}
```

**Tratar corretamente os status codes não só melhora a resiliência da sua aplicação**, mas também proporciona uma experiência melhor para a pessoa usuária. É claro que existem diversas formas de fazer isso, seja tratando caso a caso como fizemos ou verificando por tipo de status (primeiro dígito).

### Para saber (ainda) mais

Para se aprofundar no assunto, recomendo ler o [guia completo sobre códigos de status HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status) na MDN Web Docs. Isso irá expandir sua compreensão e ajudá-lo a aplicar essas práticas de forma ainda mais eficaz em seus projetos.