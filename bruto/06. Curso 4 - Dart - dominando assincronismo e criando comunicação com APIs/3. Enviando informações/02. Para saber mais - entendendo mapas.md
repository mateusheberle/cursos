## Para saber mais: entendendo mapas

Os Maps são **uma das coleções mais fortes e versáteis no Dart**! Elas permitem que você **armazene pares de chave-valor** de maneira eficiente e acessível. A ideia básica por trás de um Map é **associar uma chave única a um valor**, o que facilita a busca, inserção e remoção de dados.

**Pense em um dicionário** (essa estrutura, em outras linguagens, como Python, se chama literalmente "dicionário"), **cada palavra tem uma "chave" que é a própria palavra, e um "valor"** que é o significado da palavra!

Os Maps são úteis em uma variedade de cenários de programação e aqui estão algumas das suas **aplicações mais comuns**:

1. **Armazenamento de configurações**: Maps são frequentemente usados para armazenar configurações de aplicativos, onde cada configuração é associada a uma chave descritiva. Isso torna fácil ler, modificar ou persistir configurações **sem se preocupar com a ordem ou com a complexidade dos dados**.
2. **Indexação rápida**: pode ser usado em qualquer situação onde você precise **acessar dados de forma rápida com base em uma chave**, como procurar por um ID de usuário. Eles permitem uma busca instantânea, o que pode ser crucial em aplicações com grandes volumes de dados.
3. **Contagem de frequência**: uma aplicação clássica de Maps é contar a frequência de ocorrências de elementos em uma lista. Por exemplo, se você tiver uma lista de palavras e quiser saber quantas vezes cada palavra aparece, um Map pode ser usado para associar cada palavra a um contador de frequência.
4. **Agrupamento de dados**: se você precisar agrupar dados com base em uma chave comum, os Maps oferecem uma solução direta. Por exemplo, **agrupar registros de vendas por mês ou por produto** pode ser facilmente implementado.
5. **Modelos e data classes**: podem ser usados como uma **alternativa flexível a data classes** quando a estrutura dos dados é dinâmica ou incerta. Eles permitem armazenar e acessar propriedades e valores **sem a rigidez das classes tradicionais**, sendo especialmente úteis ao deserializar JSONs ou manipular dados em APIs, onde a estrutura pode variar.
  
### Estrutura e criação de maps

O `Map`, no Dart, é um dos poucos tipos que **exigem a especificação de tipo (subtipo) já na declaração**. Ou seja, você precisa já definir qual vai ser o tipo tanto das chaves quanto dos valores já na declaração:

```dart
Map meuPessimoMapa = //... isso não funciona
Map<String, int> meuIncrivelMapa = //... isso declara um mapa com chaves do tipo String e valores do tipo inteiro 
```

**O processo de criação** (ou seja, inicialização) de um `Map` em Dart é simples e **pode ser feito de forma literal utilizando `{}`** ou através do construtor `Map()`.

Por exemplo, imagine que você tem um **sistema para armazenar as idades de diferentes pessoas**. Você pode criar um `Map` onde as chaves são os nomes das pessoas e os valores são as idades. Essa estrutura permite que você rapidamente recupere a idade de uma pessoa específica sem precisar procurar em uma lista ou realizar operações de comparação.

```dart
Map<String, int> idadePessoas = {
  'Haley': 22,
  'Abigail': 19,
  'Sebastian': 20,
};
```

Nesse exemplo, as chaves são 'Haley', 'Abigail' e 'Sebastian', e os valores correspondentes são 22, 19 e 20.

### Acessando valores

**Uma das grandes vantagens** dos Maps é a **rapidez com que você pode acessar um valor com base em uma chave**.

Em outras estruturas de dados, como listas, para encontrar um valor específico, você precisaria iterar (ou seja, percorrer de um por um) sobre todos os elementos até encontrar o que procura. Com um Map, o acesso é direto: **você simplesmente fornece a chave, e o Dart retorna o valor correspondente**.

Por exemplo, para acessar a idade de "Haley", você usaria `idadePessoas['Haley']`, e obteria o inteiro 22.

Importante! Se você tentar acessar uma chave que não existe no Map, o retorno será `null`, o que pode ser útil para verificar a existência de uma chave antes de tentar manipulá-la. Mas tome cuidado!

### Modificando maps: adição, atualização e remoção

Maps em Dart não são apenas para consulta de dados!

Você também pode **modificar o conteúdo do Map** de forma fácil e eficiente. **Para adicionar um novo par chave-valor**, ou para atualizar o valor de uma chave existente, você pode **usar a mesma sintaxe de colchetes `[]`**.

Por exemplo, se você quiser adicionar uma nova pessoa ao `Map` ou atualizar a idade de uma pessoa existente, é **tão simples quanto atribuir um novo valor a uma chave**.

```dart
//...
idadePessoas["Haley"] = 23 // Atualizamos a idade de Haley
idadePessoas["Pierre"] = 46 // Adicionamos "Pierre" no map, já com o valor de idade como 46
```

Isso faz com que os Maps sejam bem flexíveis para cenários onde os dados podem mudar com frequência.

Se você precisar **remover uma chave e seu valor** associado do Map, pode utilizar o **método `remove()`**.

Isso é útil para situações onde um dado não é mais relevante ou deve ser descartado, como quando um usuário é removido de um sistema e você deseja garantir que suas informações pessoais sejam excluídas.

### Iterando sobre um map

Outra característica dos Maps é a **capacidade de iterar sobre os pares chave-valor de forma ordenada** (baseado na ordem que os valores foram adicionados).

Para isso, há três atributos do `map` que devolvem listas que podem ser iteradas:

- **`map.keys`**: devolve **todas as chaves** do map como um `Iterable` que pode ser convertido em uma Lista ou usado em um `for`;
- **`map.values`**: assim como o `keys` devolve as chaves, o `values` **devolve os valores**, também como um `Iterable`;
- **`map.entries`**: devolve um `Iterable` que os elementos são `MapEntries`, **um objeto que representa uma entrada** (contendo chave e valor) de um map.

### Para saber (ainda) mais

A documentação oficial do Dart é uma excelente fonte de informação para aprofundar seu conhecimento sobre Maps e outras coleções. Por isso, recomendo a leitura do [artigo sobre Maps na documentação oficial do Dart](https://dart.dev/guides/libraries/library-tour#maps), e a leitura da [classe Map também na documentação](https://api.flutter.dev/flutter/dart-core/Map-class.html) (principalmente a parte de métodos!).