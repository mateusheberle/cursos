# 01. Criando uma conta

**Dart** é uma linguagem voltada a **Orientação a Objetos**.

Projeto: `Anybank`.

* Banco que está passando por um processo de atualização de sistema.
* Nossa tarefa: 
  * Criar um sistema novo em Dart:
    * Com tipos de contas diferentes;
    * Funcionalidades para cada conta;
    * Imprimir saldo;
    * Realizar transferências;

## Criando a primeira classe com Dart

**1ª tarefa**: Criar conta que guarda uma informação de titular e um saldo.

### Classe
* Conjunto de informações pré-definidas.
* São como *moldes*.

```dart
void main() {

    Conta contaMateus = Conta("Mateus", 1000);
    Conta contaRoberta = Conta("Roberta", 2000);

}

class Conta {

    String titular;
    double saldo;

    Conta(this.titular, this.saldo);
    // Função construtora
    // A função 'Conta' retorna uma conta
}
```

### Classe construtora

`Conta(this.titular, this.saldo);`.

* *Função especial*.
* Uma função que serve para podermos construir essa classe.
* Não precisamos especificar o retorno dela.
* `this`: Para referenciar alguma coisa dentro do próprio escopo.

> `Conta contaMateus = Conta();` - Variável do tipo `Conta` chamada `contaMateus`, a qual atribuiremos a `Conta()`.

* `Conta` serviu como um **molde**.


## Criando objetos, acessando valores e guardando contas

```dart
void main() {

    Conta contaMateus = Conta("Mateus", 1000);
    Conta contaRoberta = Conta("Roberta", 2000);

    List<Conta> contas = <Conta>[contaMateus, contaRoberta];

    print(contaMateus.titular);
    print(contaMateus.saldo);

    print(contaRoberta.titular);
    print(contaRoberta.saldo);

    contaRoberta.saldo = 5000;

    print(contaRoberta.saldo);

}

class Conta {

    String titular;
    double saldo;

    Conta(this.titular, this.saldo);
    
}
```

```dart
Mateus
1000
Roberta
2000
5000
```

```dart
void main() {

    Conta contaMateus = Conta("Mateus", 1000);
    Conta contaRoberta = Conta("Roberta", 2000);

    List<Conta> contas = <Conta>[contaMateus, contaRoberta];

    for (Conta conta in contas) {
        print(conta.titular);
        print(conta.saldo);
    }

    contaRoberta.saldo = 5000;

    print(contaRoberta.saldo);
    
}

class Conta {

    String titular;
    double saldo;

    Conta(this.titular, this.saldo);

}
```
```dart
Mateus
1000
Roberta
2000
5000
```

### Alterando os valores das variáveis

**Mudar a propriedade de uma classe**: Do mesmo jeito que atribuímos um valor a uma variável, usando o sinal de igual (`=`) para atribuição. `contaRoberta.saldo = 5000;`.

Acessar e modificar as propriedades de uma classe: `nomeDaClasse.noDaVariável`. Se quisermos alterar, basta adicionarmos `=` e passar o novo valor.

Não podemos passa um **tipo de valor diferente**.

Podemos alterar os valores das variáveis, **mas não o tipo delas**.


## O que é Programação Orientada a Objetos (POO)

**Orientação a Objetos**:
    
    Forma representativa de escrever código com classes.

* **Paradigma**.
* Sigla: `POO`.
* Representar coisas do mundo real em classes.

Representação de uma **casa**.
```dart
class Casa {

    double metros;
    String cor;

}
```

### Classes:
* Servem como **moldes** ou **plantas de uma construção**.
* Contém tudo que é necessário (metragem, cor, ...).
* Como um **projeto**.
* Contém tudo o que é necessário para construir algo, mas *ainda não é o objeto em si*.
* Contém **informações e caraterísticas** do que é algo.

**Classe Conta**
```dart
class Conta {

    String titular;
    double _saldo;

}
```
A partir dela:

**Objeto contaMateus**:
```dart
Conta contaMateus = Conta("Mateus", 1000);
```

**Objeto contaRoberta**:
```dart
Conta contaRoberta = Conta("Roberta", 2000);
```

### Objeto

* É uma **variável** criada a partir de uma classe.
* Classe preenchida **com informações**.

#### **Classe**: Molde ou planta da casa.
```dart
class Casa {
    double metros;
    String cor;

    Casa(this.metros, this.cor);
}
```

#### **Objeto**: Casa construída e mobiliada.
```dart
Casa casaAzul = Casa(65, "azul");

Casa casaRosa = Casa(100, "rosa");
```

### Instanciação

* Criar a classe, criar um objeto.
* É o processo de **criar um objeto a partir de uma classe**.
* Criar uma variável **a partir do método construtor** de uma classe.

## Para saber mais: atributos nomeados em construtores no Dart

* As classes são como moldes que definem **características** *(atributos)* e **comportamentos** de um objeto.

* A **classe é a estrutura** que define esse objeto e suas características e comportamentos.
  
* *Por exemplo*: Uma class `Conta` define os atributos (`titular` e `saldo`) de um objeto conta (o objeto `contaMateus` e o objeto `contaRoberta`).


**Atributos nomeados**: Código mais limpo e fácil de entender.

```dart
class Usuario {

    String nome;
    String email;
    String senha;
    String cpf;
    bool ativo;

    Usuario(this.nome, this.email, this.senha, this.cpf, this.ativo);

}
```
Na classe `Usuario`, temos 5 atributos: `nome`, `email`, `senha`, `cpf`, `ativo` e também um construtor.

**Instanciando essa classe**:
```dart
Usuario usuarioJoao = Usuario("João da Silva", "joao@example.com", "minhaSenha123", "000.000.000-00", true);
```

* A ordem dos argumentos deve ser **precisa**.

* Os **atributos nomeados** organizam a maneira de definir os valores que cada atributo irá receber.

* Para nomear os atributos, na criação da classe, **usamos chaves para envolver todos os parâmetros** do construtor.

```dart
class Usuario {

    String nome;
    String email;
    String senha;
    String cpf;
    bool ativo;

    Usuario({this.nome, this.email, this.senha, this.cpf, this.ativo});

}
```

Agora, ao criar um novo usuário, pode passar o **nome do atributo seguido de dois pontos** e o **valor** que ele deve receber.

```dart
Usuario usuario_joao = Usuario(email: "joao@example.com", nome: "João da Silva", senha: "minhaSenha123", cpf: "000.000.000-00", ativo: true);
```

Com essa abordagem podemos passar os valores em **qualquer ordem**.
Reduzindo o risco de erros ao preencher os dados no construtor.

## Mão na massa: vendendo receitas

1. Crie uma classe `Receita`.
2. Crie 3 entradas de receitas.
3. Guarde em uma lista.

```dart
void main() {

    // 2. Crie 3 entradas de receitas.
    Receita itemUm = Receita("Macarrão ao pesto", 20.00);
    Receita itemDois = Receita("Lasanha 4 queijos", 32.00);
    Receita itemTres = Receita("Burrata com pesto", 28.00);

    // 3. Guarde em uma lista.
    List<Receita> receitas = <Receita>[itemUm, itemDois, itemTres];

}

// 1. Crie uma classe `Receita`.
class Receita {
    
    String nome;
    double preco;

    Receita(this.nome, this.preco);

}
```

## Lista de exercícios

### 01. Criando uma classe para itens de estoque. 

Você trabalha no time de desenvolvimento de um sistema de gestão de estoque para uma loja de eletrônicos. Sua tarefa é criar uma classe chamada `ItemEstoque` que deverá armazenar informações sobre o nome do produto e a quantidade em estoque. Em seguida, você deve instanciar dois itens: um para "Smartphone", com 100 unidades em estoque, e outro para "Notebook", com 50 unidades. Por fim, você deve imprimir as informações desses itens no terminal.

O print no terminal deve ser algo parecido com isto:

```dart
Produto: Smartphone, Quantidade em estoque: 100
Produto: Notebook, Quantidade em estoque: 50
```

### 01. Resposta

```dart
class ItemEstoque {

    String nomeProduto;
    int quantidade;

    ItemEstoque(this.nomeProduto, this.quantidade);

}

void main() {

    // Instanciando os itens
    ItemEstoque smartphone = ItemEstoque("Smartphone", 100);
    ItemEstoque notebook = ItemEstoque("Notebook", 50);

    // Imprimindo informações dos itens
    print('Produto: ${smartphone.nomeProduto}, Quantidade em estoque: ${smartphone.quantidade}');
    print('Produto: ${notebook.nomeProduto}, Quantidade em estoque: ${notebook.quantidade}');


    /* Alternativa para imprimir os itens
    List<ItemEstoque> itens = <ItemEstoque>[smartphone, notebook];

    for (ItemEstoque item in itens) {
        print("Produto: ${item.produto}, Quantidade em estoque: ${item.quantidadeEstoque}");
    }
    */
}
```

### 02. Implementando operações de entrada e saída de estoque.

Agora que criou a classe `ItemEstoque`, você precisa adicionar funcionalidades para registrar entradas e saídas de produtos no estoque. Implemente métodos dentro da classe `ItemEstoque` para realizar essas operações. Teste esses métodos registrando uma entrada de 20 unidades para o "Smartphone" e uma saída de 10 unidades do "Notebook". Por último, imprima as novas quantidades em estoque no terminal.

### 02. Resposta 

```dart
class ItemEstoque {

    String nomeProduto;
    int quantidade;

    ItemEstoque(this.nomeProduto, this.quantidade);

    void registrarEntrada(int valor) {
        quantidade += valor;
    }

    void registrarSaida(int valor) {
        if (quantidade >= valor) {
            quantidade -= valor;
        } else {
            print('Quantidade insuficiente em estoque para realizar a saída.');
        }
    }

}

void main() {

    // Instanciando os itens
    ItemEstoque smartphone = ItemEstoque('Smartphone', 100);
    ItemEstoque notebook = ItemEstoque('Notebook', 50);

    // Registrando entrada e saída de estoque
    smartphone.registrarEntrada(20);
    notebook.registrarSaida(10);

    // Imprimindo novas quantidades em estoque
    print('Produto: ${smartphone.nomeProduto}, Quantidade em estoque: ${smartphone.quantidade}');
    print('Produto: ${notebook.nomeProduto}, Quantidade em estoque: ${notebook.quantidade}');

}
```

### 03. Gerenciando múltiplos itens de estoque.

Você percebeu que a loja possui muitos produtos. Sua tarefa agora é fazer uma lista que armazena várias instâncias da classe `ItemEstoque`. Em seguida, implemente um laço de repetição que percorra essa lista e imprima as informações de cada item em estoque. Para testar, crie pelo menos três itens com diferentes produtos e quantidades, adicione-os à lista e exiba os detalhes de todos os itens cadastrados.

### 03. Resposta 

```dart
class ItemEstoque {

    String nomeProduto;
    int quantidade;

    ItemEstoque(this.nomeProduto, this.quantidade);

    void registrarEntrada(int valor) {
        quantidade += valor;
    }

    void registrarSaida(int valor) {
        if (quantidade >= valor) {
            quantidade -= valor;
        } else {
            print('Quantidade insuficiente em estoque para realizar a saída.');
        }
    }

}

void main() {

    // Criando a lista de itens em estoque
    List<ItemEstoque> itens = <ItemEstoque>[];

    // Adicionando itens à lista
    itens.add(ItemEstoque('Smartphone', 100));
    itens.add(ItemEstoque('Notebook', 50));
    itens.add(ItemEstoque('Tablet', 75));

    // Percorrendo a lista e imprimindo informações dos itens
    for (ItemEstoque item in itens) {
        print('Produto: ${item.nomeProduto}, Quantidade em estoque: ${item.quantidade}');
    }

}
```

### 04. Atualizando o preço dos itens.

Agora que você já tem um controle de estoque, vamos acrescentar mais uma funcionalidade ao sistema: o controle de preços dos produtos. Sua tarefa é adicionar um novo atributo `preco` à classe `ItemEstoque`. Em seguida, implemente um método que permita alterar o preço de um item específico. Crie três itens, defina seus preços iniciais e depois altere o preço de um deles. Por fim, imprima o nome do produto, sua quantidade em estoque e o preço atualizado.

### 04. Resposta 

```dart
class ItemEstoque {

    String nomeProduto;
    int quantidade;
    double preco;

    ItemEstoque(this.nomeProduto, this.quantidade, this.preco);

    void registrarEntrada(int valor) {
        quantidade += valor;
    }

    void registrarSaida(int valor) {
        if (quantidade >= valor) {
            quantidade -= valor;
        } else {
            print('Quantidade insuficiente em estoque para realizar a saída.');
        }
    }

    void atualizarPreco(double novoPreco) {
        preco = novoPreco;
    }

}

void main() {

    // Instanciando os itens
    ItemEstoque smartphone = ItemEstoque('Smartphone', 100, 2999.99);
    ItemEstoque notebook = ItemEstoque('Notebook', 50, 4999.99);
    ItemEstoque tablet = ItemEstoque('Tablet', 75, 1999.99);

    // Atualizando o preço do Notebook
    notebook.atualizarPreco(4799.99);

    // Imprimindo informações atualizadas dos itens
    print('Produto: ${smartphone.nomeProduto}, Quantidade em estoque: ${smartphone.quantidade}, Preço: R\$${smartphone.preco}');
    print('Produto: ${notebook.nomeProduto}, Quantidade em estoque: ${notebook.quantidade}, Preço: R\$${notebook.preco}');
    print('Produto: ${tablet.nomeProduto}, Quantidade em estoque: ${tablet.quantidade}, Preço: R\$${tablet.preco}');

}
```