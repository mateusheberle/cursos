# Tratando condicionais e erros

## Implementando a escolha de operação da calculadora

### Projeto calculadora

**/bin/calculadora.dart**
```dart
import 'dart:io';

void main(){
    double numeroUm = double.parse(stdin.readLineSync()!);
    double numeroDois = double.parse(stdin.readLineSync()!);
    String operacao = stdin.readLineSync()!;

    void soma(){
        print(numeroUm + numeroDois);
    }
    void subtracao(){
        print(numeroUm - numeroDois);
    }
    void divisao(){
        print(numeroUm / numeroDois);
    }
    void multiplicacao(){
        print(numeroUm * numeroDois);
    }

    if (operacao == "+"){
        soma();
    }
    if (operacao == "-"){
        subtracao();
    }
    if (operacao == "*"){
        multiplicacao();
    }
    if (operacao == "/"){
        divisao();
    }

}
```

* `=`: Atribuição
* `==`: Comparativo

## Utilizando if-else para criar uma condição

### Projeto calculadora

**/bin/calculadora.dart**
```dart
import 'dart:io';

void main(){
    double numeroUm = double.parse(stdin.readLineSync()!);
    double numeroDois = double.parse(stdin.readLineSync()!);
    String operacao = stdin.readLineSync()!;

    /* Declaração das funções */
    void soma(){
        print(numeroUm + numeroDois);
    }
    void subtracao(){
        print(numeroUm - numeroDois);
    }
    void divisao(){
        print(numeroUm / numeroDois);
    }
    void multiplicacao(){
        print(numeroUm * numeroDois);
    }

    /* Execução das funções */
    if (operacao == "+"){
        soma();
    } else {
        if (operacao == "-"){
            subtracao();
        } else {
            if (operacao == "*"){
                multiplicacao();
            } else {
                if (operacao == "/"){
                    divisao();
                }
            }
        }
    }
}
```

## Melhorando a legibilidade de uma condição com switch-case

### Projeto calculadora

**/bin/calculadora.dart**
```dart
import 'dart:io';

void main(){
    double numeroUm = double.parse(stdin.readLineSync()!);
    double numeroDois = double.parse(stdin.readLineSync()!);
    String operacao = stdin.readLineSync()!;

    /* Declaração das funções */
    void soma(){
        print(numeroUm + numeroDois);
    }
    void subtracao(){
        print(numeroUm - numeroDois);
    }
    void divisao(){
        print(numeroUm / numeroDois);
    }
    void multiplicacao(){
        print(numeroUm * numeroDois);
    }

    /* Execução das funções */
    if (operacao == "+"){
        soma();
    } else {
        if (operacao == "-"){
            subtracao();
        } else {
            if (operacao == "*"){
                multiplicacao();
            } else {
                if (operacao == "/"){
                    divisao();
                }
            }
        }
    }

    switch (operacao) {
        case "+":
        soma();
        
        case "-":
        subtracao();
        
        case "*":
        multiplicacao();
        
        case "/":
        divisao();

        break;
    }

}
```

## Para saber mais: if-else e switch-case, qual utilizar?

Para um número pequeno de condições simples, a diferença de performance entre `if-else` e `switch-case` é mínima.

A medida que o número de condições aumenta o `switch-case` pode apresentar um desempenho ligeiramente superior.

**Exemplo**

```dart
// Usando if-else
int diaDaSemana = 3;

if (diaDaSemana == 1) {
  print('Segunda-feira');
} else if (diaDaSemana == 2) {
  print('Terça-feira');
} else if (diaDaSemana == 3) {
  print('Quarta-feira');
} else if (diaDaSemana == 4) {
  print('Quinta-feira');
} else if (diaDaSemana == 5) {
  print('Sexta-feira');
} else if (diaDaSemana == 6) {
  print('Sábado');
} else if (diaDaSemana == 7) {
  print('Domingo');
} else {
  print('Dia inválido');
}

// Usando switch-case
switch (diaDaSemana) {
  case 1:
    print('Segunda-feira');
    break;
  case 2:
    print('Terça-feira');
    break;
  case 3:
    print('Quarta-feira');
    break;
  case 4:
    print('Quinta-feira');
    break;
  case 5:
    print('Sexta-feira');
    break;
  case 6:
    print('Sábado');
    break;
  case 7:
    print('Domingo');
    break;
  default:
    print('Dia inválido');
}
```

Nesse exemplo, ambos os códigos executam a mesma lógica, mas o `switch-case` pode ser ligeiramente mais rápido para a maioria dos casos.

A escolha entre `if-else` e `switch-case` deve considerar o contexto específico do seu código, priorizando a *legibilidade* e a *clareza*, além da performance.


## Tratando erros de código no Dart

### Projeto calculadora

**/bin/calculadora.dart**
```dart
import 'dart:io';

void main(){
    double numeroUm = 0;
    double numeroDois = 0;
    String operacao = "";

    void soma(){
        print(numeroUm + numeroDois);
    }
    void subtracao(){
        print(numeroUm - numeroDois);
    }
    void divisao(){
        print(numeroUm / numeroDois);
    }
    void multiplicacao(){
        print(numeroUm * numeroDois);
    }
    void calcular(){
        switch (operacao) {
            case "+":
            soma();
            
            case "-":
            subtracao();
            
            case "*":
            multiplicacao();
            
            case "/":
            divisao();

            break;
        }
    }

    print("Digite o primeiro valor");

    String? entrada = stdin.readLineSync();

    if (entrada != null) {
        if (entrada != "") {
            numeroUm = double.parse(entrada);
        }
    }

    print("Digite uma operação")

    entrada = stdin.readLineSync();
    if (entrada != null) {
        operacao = entrada;
    }

    print("Digite o segundo valor");

    entrada = stdin.readLineSync();
    if (entrada != null) {
        if (entrada != "") {
            numeroDois = double.parse(entrada);
        }
    }

    print("O resultado da operação é:")

    calcular();

}
```

## Exercícios

01. Calculando idade para carteira de motorista.
```dart
import 'dart:io';

void main() {
    print('Digite sua idade:');
    int idade = int.parse(stdin.readLineSync()!);

    if (idade >= 18) {
        print('Você pode dirigir um veículo.');
    } else {
        print('Você não pode dirigir um veículo.');
    }
}
```  

02. Retornando os meses do ano.
```dart
import 'dart:io';

void main() {
  print('Digite um número de 1 a 12 para saber o mês correspondente:');
  String? input = stdin.readLineSync();

  // Null safety e conversão de entrada
  int numero = int.parse(input!);

  // Função que retorna o mês correspondente
  String obterMes(int numero) {
    switch (numero) {
      case 1:
        return 'Janeiro';
      case 2:
        return 'Fevereiro';
      case 3:
        return 'Março';
      case 4:
        return 'Abril';
      case 5:
        return 'Maio';
      case 6:
        return 'Junho';
      case 7:
        return 'Julho';
      case 8:
        return 'Agosto';
      case 9:
        return 'Setembro';
      case 10:
        return 'Outubro';
      case 11:
        return 'Novembro';
      case 12:
        return 'Dezembro';
      default:
        return 'Número inválido. Por favor, insira um número de 1 a 12.';
    }
  }

  String mes = obterMes(numero);
  print(mes);
}
```

03. Implementando a verificação de saldo.
```dart
import 'dart:io';
double saldo = 1000.0; // Saldo inicial em reais

void main() {
    print('Boas-vindas ao seu banco digital!');
    print('Seu saldo atual é de: R\$${saldo.toStringAsFixed(2)}');

    print('Digite o valor do Pix que deseja realizar:');
    double valorPix = double.parse(stdin.readLineSync()!);

    realizarPix(valorPix);
}

// Definição da função realizarPix para que o código seja funcional
void realizarPix(double valor) {
    if (valor <= saldo) {
        saldo -= valor;
        print('Pix de R\$${valor.toStringAsFixed(2)} realizado com sucesso.');
        print('Seu novo saldo é de: R\$${saldo.toStringAsFixed(2)}');
    } else {
        print('Saldo insuficiente para realizar o Pix.');
    }
}
```

04. Verificando a maioridade em diferentes países.
```dart
import 'dart:io';

void main() {
    print('Digite sua idade:');
    int idade = int.parse(stdin.readLineSync()!);

    print('Digite o país em que se encontra (Brasil, EUA, Japão):');
    String pais = stdin.readLineSync()!.toLowerCase(); // Lê o país e converte para minúsculas

    if ((pais == 'brasil' && idade >= 18) || 
        (pais == 'eua' && idade >= 16) || 
        (pais == 'japão' && idade >= 20)) {
        print('Você pode dirigir um veículo no $pais.');
    } else {
        print('Você não pode dirigir um veículo no $pais.');
    }
}
```

