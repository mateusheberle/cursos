# Trabalhando com variáveis e funções

## Projeto calculadora

**Terminal**
```sh
dart create calculadora

cd calculadora

dart run
```

**/bin/calculadora.dart**
```dart
import 'dart:io';

void main(){
    var numeroUm = stdin.readLineSync();    // Valor: 10
    var numeroDois = stdin.readLineSync();  // Valor: 10
    print(numeroUm! + numeroDois!);         // Resultado: '1010'
    
}
```

**Null safety** (segurança contra valores nulos)

Ferramenta do Dart que nos ajuda a nos proteger de valores nulos.
`numeroUm!` - Garantir que não virá valores nulos para essa variável.

**Executar**
```sh
dart run
```

## Para saber mais: conhecendo o null safety

* Segurança contra nulos.
* Deixar o código mais confiável.
* Menos sujeito a interrupções e erros.
* O nulo tem mais a ver com uma *falta de informação*.
* Um nulo é inconveniente para o computador.
* Sem a segurança de nulos, seu programa pode travar.
* Com o null safety o Dart avisa quando algo está errado.

```dart
String? nomeDoUsuario; // Variável que pode ser nula

// ... (código que busca o nome do usuário)

if (nomeDoUsuario != null) {
  print('Olá, $nomeDoUsuario!');
} else {
  print('Erro: nome do usuário não encontrado.');
}
```
* `String?`: Pode conter um texto ou ser nula.
* `!= null`: Verifica se a variável realmente contém um valor.


## Projeto calculadora

**/bin/calculadora.dart**
```dart
import 'dart:io';

void main(){
    double numeroUm = double.parse(stdin.readLineSync()!);  // Valor: 10
    double numeroDois = double.parse(stdin.readLineSync()!); // Valor: 10
    print(numeroUm + numeroDois); // Valor: 20.0
}
```

Dart
* "Levemente" tipada.
* `var`: Permite guardar qualquer valor dentro da variável (sem precisar declarar o tipo). 
* `double`: "Tipo" de valores decimais (fracionadas).
* `int`: "Tipo" de valores inteiros.
* `bool`: "Tipo" de valores verdadeiro ou falso (binárias).
* `null`: "Tipo" vazio.
* `String`: "Tipo" de valores textuais.
* `List`: "Tipo" de listas.

- Tipos que começam com letra `minúscula`: **Tipos primitivos**.
- Tipos que começam com letra `maiúscula`: **Tipos compostos**.

## Para saber mais: variáveis e tipos primitivos e compostos no Dart

"No mundo da programação, **variável** é um conceito básico."

* Cada variável tem um *tipo*.
* Cada variável armazena um tipo de dado diferente.

* Os tipos de dados são como os *blocos de construção do seu código*.
* No Dart, podemos dividi-los em 2 grupos principais: *tipos primitivos* e *tipos compostos*.

### **Tipos Primitivos**

* Elementos mais básicos para armazenar valores simples.
* *Tipos simples*, compostos de uma única parte.

No Dart, encontramos:
* Números:
  * `int` (números inteiros)
  * `double` (números decimais)
  * `bool` (valores binários ou lógicos)
* Texto:
  * `String` (sequência de caracteres)
* Caracteres:
  * `rune` (único caracteres)

### **Tipos Compostos**

* Conjuntos de peças do quebra-cabeça que se unem para criar algo maior.
* *São tipos compostos por mais de uma parte*.

Tipos compostos utilizam como base tipos primitivos e até outros tipos compostos, os principais são:

* *Listas*: 
  * `List`: Armazenam valores ordenados do mesmo tipo (como uma lista de compras com repetições ou não).
* *Mapas*:
  * `Map`: Associam chaves únicas a valores (como uma agenda telefônica, com nomes e números).
* *Conjuntos*:
  * `Set`: Coleção de *valores não ordenados* e *sem valores repetidos* (como um conjunto de cartas de baralho). 

**Declaração**

```dart
// Variáveis primitivas
int numeroInteiro = 10;
double numeroDecimal = 3.14;
String texto = "Este é um texto.";
bool isAtivo = true;

// Variáveis compostas
List<String> nomes = ["Ana", "João", "Maria"];
Map<String, String> agenda = {"Ana": "1234-5678", "João": "9876-5432"};
Set<int> numerosUnicos = {1, 2, 3, 4, 3}; // O número 3 só aparece uma vez

// Acessando valores
print("Número inteiro: $numeroInteiro");
print("Número decimal: $numeroDecimal");
print("Texto: $texto");
print("Ativo: $isAtivo");

print("Primeiro nome da lista: ${nomes[0]}");
print("Telefone da Ana: ${agenda['Ana']}");
print("Números únicos no conjunto: $numerosUnicos");
```


## Projeto calculadora

**/bin/calculadora.dart**
```dart
import 'dart:io';

void main(){
    double numeroUm = double.parse(stdin.readLineSync()!);
    double numeroDois = double.parse(stdin.readLineSync()!);

    void soma(){
        print(numeroUm + numeroDois);
    }

    soma(); // Chamando a função de soma
}
```

* Escopo no Dart, é *fechado*.
* No caso acima, `numeroUm` e `numeroDois` só tem acesso aos valores porque está sendo declarada dentro do `main`.
* Cada função tem seu próprio escopo.

    * `soma` consegue pegar valores dentro da `main`. Mas ` main` não consegue pegar valores dentro da `soma`.
    * *Função-Filha* tem acesso as informações da *Função-Pai*, mas *Função-Pai* não tem acesso as informações da *Função-Filha*. 

## Projeto calculadora

**/bin/calculadora.dart**
```dart
import 'dart:io';

void main(){
    double numeroUm = double.parse(stdin.readLineSync()!);
    double numeroDois = double.parse(stdin.readLineSync()!);

    void soma(){
        print(numeroUm + numeroDois);
    }
    void subtracao(){
        print(numeroUm - numeroDois);
    }
    void divisao(){
        print(numeroUm / numeroDois);
    }
    void multiplicacao(){
        print(numeroUm * numeroDois);
    }

    soma();
    subtracao();
    divisao();
    multiplicacao();
}
```

## Exercícios

01. Calculando o dobro de um número:
```dart
import 'dart:io';

void main() {
    print('Digite um número:');
    int numero = int.parse(stdin.readLineSync()!);

    int dobro = numero * 2;

    print('O dobro de $numero é $dobro.');
}
```

02. Descobrindo a média de idades:
```dart
import 'dart:io';

void main() {
    print('Digite a idade da primeira pessoa:');
    int idade1 = int.parse(stdin.readLineSync()!);

    print('Digite a idade da segunda pessoa:');
    int idade2 = int.parse(stdin.readLineSync()!);

    print('Digite a idade da terceira pessoa:');
    int idade3 = int.parse(stdin.readLineSync()!);

    double media = (idade1 + idade2 + idade3) / 3;

    print('A média das idades é $media.');
}
```

03. Escrevendo a ficha de participante
```dart
void main() {
    int idade = 32;
    double altura = 1.76;
    String nome = "Matheus Marcus";
    String cpf = "100.000.000";
    bool participanteComunidade = true;
    
  print('Eu sou $nome, \n'
      'meu CPF é $cpf, \n'
      'sou membro da comunidade? $participanteComunidade. \n'
      'Eu tenho $altura metros de altura e \n'
      '$idade anos de idade,\n');
}
```

04. Calculando o salário do freela
```dart
import 'dart:io';

void main() {
    print('Digite o número de horas trabalhadas:');
    int horasTrabalhadas = int.parse(stdin.readLineSync()!);

    double taxaPorHora = 50.0;
    double salarioBruto = horasTrabalhadas * taxaPorHora;

    double desconto = salarioBruto * 0.05;
    double salarioLiquido = salarioBruto - desconto;

    print('O salário líquido é R\$ $salarioLiquido.');
}
```

05. Implementando um programa de cupons
```dart
import 'dart:io';

void main() {
  print('Digite o valor gasto: ');
  double quantidadeGasta = double.parse(stdin.readLineSync()!);

  int cupons = (quantidadeGasta / 50).floor();
  
  print('O cliente receberá $cupons cupom(s) para esta compra.');
}
```
* `floor()`: Evitar casas decimais